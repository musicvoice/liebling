import $ from"jquery";import shave from"shave";import Glide,{Controls,Swipe,Breakpoints}from"@glidejs/glide/dist/glide.modular.esm";import{isRTL}from"./helpers";$(document).ready(()=>{const e=$(".js-featured-slider");if(e.length>0){const t=e.find(".js-featured-slide").length,r=new Glide(".js-featured-slider",{type:"slider",rewind:!1,gap:0,autoplay:2e3,swipeThreshold:!1,dragThreshold:!1,direction:isRTL()?"rtl":"ltr",breakpoints:{768:{swipeThreshold:1!==t&&80,dragThreshold:1!==t&&120}}}),s=(e,r)=>{const s="js-featured-slider-controls",i="js-featured-slider-previous",o="js-featured-slider-next";return{mount(){e.settings.rewind||1===t||e.on(["mount.after","run"],()=>{for(let t of r.Controls.items){if(!t.className.includes(s))continue;const d=t.querySelector(`.${i}`);d&&(0===e.index?d.setAttribute("disabled",""):d.removeAttribute("disabled"));const n=t.querySelector(`.${o}`);if(n){(e.settings.bound?e.index+(e.settings.perView-1):e.index)===r.Sizes.length-1?n.setAttribute("disabled",""):n.removeAttribute("disabled")}}})}}};1===t&&e.find(".js-featured-slider-controls").remove(),r.on("mount.after",()=>{shave(".js-featured-article-title",200)}),r.mount({Controls:Controls,Swipe:Swipe,Breakpoints:Breakpoints,ArrowDisabler:s}),setTimeout(()=>{window.dispatchEvent(new Event("resize"))},350)}shave(".js-featured-article-title",200)});
